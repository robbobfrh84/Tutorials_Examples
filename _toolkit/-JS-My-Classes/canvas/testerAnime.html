<!DOCTYPE html><html><head><meta charset="utf-8"></head>
<style> .bg { background: #ddd; margin: auto;} </style>
<script src="canvas.js"></script>
<h3 style='padding: 2px; margin: 2px;'>Canvas Class Animations</h3>

<hr><div> c1 </div>
<canvas id="c1" class='bg'>
  <script>
    const c1 = new canvas
    c1.new('c1', 400,200)

    // 1:0
    c1.lineGrow(10,20,390,20,'rgba(100,149,237,0.7)',2,5,1.01)
    c1.lineGrow(390,180,10,180,'rgba(100,149,237,0.7)',2,5,1.01)
    c1.lineGrow(20,10,20,190,'rgba(100,149,237,0.7)',2,5,1.01)
    c1.lineGrow(380,190,380,10,'rgba(100,149,237,0.7)',2,5,1.01)

    // 1:1
    c1.lineGrow(110,10,290,190,'rgba(100,149,237,0.7)',2,5,1.01)
    c1.lineGrow(290,10,110,190,'rgba(100,149,237,0.7)',2,5,1.01)
    c1.lineGrow(280,190,100,10,'rgba(100,149,237,0.7)',2,5,1.01)
    c1.lineGrow(120,190,300,10,'rgba(100,149,237,0.7)',2,5,1.01)

    // 2:1
    c1.lineGrow(30,40,370,160,'rgba(100,149,237,0.7)',2,5,1.01)
    c1.lineGrow(360,170,40,30,'rgba(100,149,237,0.7)',2,5,1.01)
    c1.lineGrow(30,160,370,40,'rgba(100,149,237,0.7)',2,5,1.01)
    c1.lineGrow(360,30,40,170,'rgba(100,149,237,0.7)',2,5,1.01)

    //!!
    color = c1.lGrad({
      gradient: [ 0, 0, 380, 0],
      colors: [
        [ "0.05", "rgba(0,0,0,0)" ],
        [ "0.25", "blue"],
        [ "0.45", "green"],
        [ "0.55", "rgba(0,0,0,0)" ],
        [ "0.65", "red"],
        [ "0.75", "yellow"],
        [ "0.95", "rgba(0,0,0,0)" ],
      ]
    })
    c1.lineGrow(50,90,350,110,color,25,1,1.03)

    c1.animate()
  </script>
</canvas>

<hr><div> c2: Different Ramp Up Rates </div>
<canvas id="c2" class='bg'>
  <script>
    const c2 = new canvas
    c2.new('c2', 400,200)

    c2.lineGrow(10,10,390,10,'rgba(100,149,237,0.7)',3,2,1.005)
    c2.lineGrow(10,20,390,20,'rgba(100,149,237,0.7)',3,2,1.01)
    c2.lineGrow(10,30,390,30,'rgba(100,149,237,0.7)',3,2,1.02)
    c2.lineGrow(10,40,390,40,'rgba(100,149,237,0.7)',3,2,1.03)
    c2.lineGrow(10,50,390,50,'rgba(100,149,237,0.7)',3,2,1.05)
    c2.lineGrow(10,60,390,60,'rgba(100,149,237,0.7)',3,2,1.06)
    c2.lineGrow(10,70,390,70,'rgba(100,149,237,0.7)',3,2,1.08)
    c2.lineGrow(10,80,390,80,'rgba(100,149,237,0.7)',3,2,1.1)
    c2.lineGrow(10,90,390,90,'rgba(100,149,237,0.7)',3,2,1.15)
    c2.lineGrow(10,100,390,100,'rgba(100,149,237,0.7)',3,2,1.2)

    c2.animate()
  </script>
</canvas>

<hr><div> c3: ADD Static Sprites with Animation </div>
<canvas id="c3" class='bg'>
  <script>
    const c3 = new canvas
    c3.new('c3', 400,200)

    c3.lineGrow(10,10,390,10,'rgba(100,149,237,0.7)',3,2,1.005)
    c3.lineGrow(10,20,390,20,'rgba(100,149,237,0.7)',3,2,1.01)
    c3.lineGrow(10,30,390,30,'rgba(100,149,237,0.7)',3,2,1.02)

    c3.sprites = c3.sprites.concat([
      { build: (s)=>{ c3.rec(20,70,120,80,'firebrick',5,'cornflowerblue') }},
      { build: (s)=>{ c3.cir(280,100,30,'green',10,'#444') }}
    ])

    c3.animate()
  </script>
</canvas>

<hr><div> c4: Move </div>
<canvas id="c4" class='bg'>
  <script>
    const c4 = new canvas
    c4.new('c4', 400,200)


    c4.sprites.push({
      active: true,
      x: 20,
      y: 50,
      r: 10,
      ex: 100,
      ey: 50,
      s: 1,
      build: (s)=>{
        if (s.x !== s.ex) {
          s.x = s.x + s.s
          // c4.cir(s.x,s.y,s.r,'cornflowerblue', 3, 'blue')
          c4.end = false
        }
        c4.cir(s.x,s.y,s.r,'cornflowerblue', 3, 'blue')


        // console.log(c4.end)
      }
      // c:c,
      // stk:stk,
      // s:s,
      // r:r,
      // xp: x,
      // yp: y,
      // xd: xd,
      // yd: yd,
      // xPx: isFinite(xPx) ? xPx : 1*xd,
      // yPx: isFinite(yPx) ? yPx : 1*yd,
    })

    // static builds.
    c4.sprites.push({
      build: (s)=>{ c4.cir(20,20,10,'firebrick', 3, 'red') }
    })

    var c4c = document.getElementById('c4')
    c4c.addEventListener('click', ()=>{
      console.log('click', event.offsetX, event.offsetY)
      c4.sprites[0].ex = event.offsetX
      if (c4.end) c4.animate()
    })


    c4.animate()
  </script>
</canvas>

</html>
<script src='http://localhost:35729/livereload.js'></script>
