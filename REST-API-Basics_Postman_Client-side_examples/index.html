<!DOCTYPE html>
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <title></title>
  </head>

  <body>
    <h3>‚ö†Ô∏è Running local server required (üëÄ See Console Logs)</h3>
    <button onClick="post('a')">POST: a</button> 
    <button onClick="post('b')">POST: b</button>     
    <button onClick="post('c')">POST: c</button> 
    <br> <br>
    ‚≠êÔ∏è Must POST each before GET, PUT and DEL by ID
    <br> <br>
    <button onClick="get()">GET</button>
    <br> <br>
    <button onClick="put(1)">PUT: id 1: Completed</button> 
    <button onClick="put(2)">PUT: id 2: Completed</button>     
    <button onClick="put(3)">PUT: id 3: Completed</button>
    <br> <br>
    <button onClick="del(1)">DEL: id 1</button> 
    <button onClick="del(2)">DEL: id 2</button>     
    <button onClick="del(3)">DEL: id 3</button>
    <br> <br> <br>
    ‚ú® BONUS GET Individual by id
    <br> <br>
    <button onClick="getId(1)">GET: id 1</button> 
    <button onClick="getId(2)">GET: id 2</button> 
    <button onClick="getId(3)">GET: id 3</button> 
  </body>
  <script type="text/javascript">

    function post(postName){
      fetch("http://localhost:3000/todo", {
        method: "POST",
        headers: {  "Content-Type": "application/json", },
        body: JSON.stringify({ 
          title: postName
        }),
      })
        .then( response => response.json())
        .then( data => console.log("data:", data))
        .catch( err => console.log("oops, looks like we got an error: ", err))
    }

    function get(){
      fetch("http://localhost:3000/todos", {
        method: "GET"
      })
        .then( res => res.json())
        .then( data => console.log("data:", data))
        .catch( err => console.log("oops, looks like we got an error: ", err))
    }

    function put(id){
      fetch("http://localhost:3000/todo/"+id, {
        method: "PUT",
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ 
          completed: true,
        }),
      })
        .then( response => response.json())
        .then( data => console.log("data:", data))
        .catch( err => console.log("oops, looks like we got an error: ", err))
    }

    function del(id){
      fetch("http://localhost:3000/todo/"+id, {
        method: "DELETE",
      })
        .then( response => console.log('response:',response))
        .catch( err => console.log("oops, looks like we got an error: ", err))
    }


    // ‚ú® BONUS GET Individual by id

    function getId(id){
      fetch("http://localhost:3000/todo/"+id, {
        method: "GET",
      })
      .then( response => response.json())
        .then( data => console.log("data:", data))
        .catch( err => console.log("oops, looks like we got an error: ", err))
    }


  </script>
</html>
